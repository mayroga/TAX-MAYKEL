<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AL CIELO - TaxMind Pro AI</title>
<style>
:root { 
    --drake-blue: #002D54; --gold: #C5A059; --irs-green: #27AE60; 
    --danger: #C0392B; --dark-bg: #121212; --panel-bg: #F8F9FA;
}
body { font-family: 'Inter', 'Segoe UI', sans-serif; margin:0; background: var(--dark-bg); color:#333; height:100vh; display:flex; flex-direction:column; }

/* Dashboard */
.dashboard-header { background:#000; color:#0F0; padding:15px 30px; display:flex; justify-content:space-between; align-items:center; border-bottom:2px solid var(--gold); font-family:'Courier New', monospace; }
.risk-badge { padding:5px 15px; border-radius:20px; font-weight:bold; font-size:0.8rem; }
.risk-low { background: var(--irs-green); color:white; }
.risk-high { background: var(--danger); color:white; animation: blink 1s infinite; }

/* Layout */
.main-layout { display:grid; grid-template-columns:280px 1fr 420px; flex-grow:1; overflow:hidden; }

/* Sidebar */
.sidebar { background:#1E272E; color:white; padding:20px; border-right:1px solid #000; }
.mode-selector { margin-bottom:30px; }
.nav-grp { font-size:0.7rem; color:#808E9B; text-transform:uppercase; margin:20px 0 10px; border-bottom:1px solid #3d4b59; }
.nav-item { padding:12px; cursor:pointer; border-radius:6px; margin-bottom:5px; transition:0.3s; font-size:0.9rem; }
.nav-item:hover, .active { background:var(--gold); color:black; font-weight:bold; }

/* Workspace */
.workspace { background:white; padding:40px; overflow-y:auto; border-right:2px solid #CCC; }
.tax-card { border:1px solid #D1D8E0; border-radius:8px; margin-bottom:25px; overflow:hidden; }
.card-header { background:#F1F2F6; padding:12px 20px; font-weight:bold; color:var(--drake-blue); display:flex; justify-content:space-between; }
.tax-row { display:grid; grid-template-columns:80px 1fr 180px; border-bottom:1px solid #F1F2F6; align-items:center; }
.ln { background:#F8F9FA; padding:15px; text-align:center; font-weight:bold; color:#7F8C8D; border-right:1px solid #EEE; }
.desc { padding-left:20px; font-size:0.95rem; }
input { width:100%; border:none; padding:15px; text-align:right; font-size:1.2rem; background:#FFFDE7; outline:none; font-weight:600; }
input:focus { background:white; box-shadow:inset 0 0 8px rgba(0,0,0,0.1); }

/* Aura */
.aura-panel { background:var(--panel-bg); display:flex; flex-direction:column; border-left:1px solid var(--gold); }
.aura-header { background:var(--drake-blue); color:white; padding:20px; text-align:center; font-weight:700; }
.aura-chat { flex-grow:1; padding:20px; overflow-y:auto; font-size:0.95rem; }
.msg { background:white; padding:15px; border-radius:8px; border-left:5px solid var(--irs-green); margin-bottom:15px; box-shadow:0 4px 6px rgba(0,0,0,0.05); }
.msg-strategy { border-left-color: var(--gold); background:#FFF9EB; }
.msg-alert { border-left-color: var(--danger); background:#FFF5F5; font-weight:bold; }
.aura-input-area { padding:20px; background:white; border-top:1px solid #DDD; }
#a i-query { width:100%; padding:15px; border:2px solid #D1D8E0; border-radius:8px; font-size:1rem; }

/* Footer */
.footer { padding:20px; background:#D1D8E0; display:flex; gap:15px; justify-content:flex-end; }
button { padding:12px 25px; cursor:pointer; font-weight:bold; border:none; border-radius:6px; text-transform:uppercase; transition:0.2s; }
.btn-doubts { background: var(--gold); color:black; }
.btn-print { background: var(--drake-blue); color:white; }
.btn-delete { background: var(--danger); color:white; }

@keyframes blink { 0%{opacity:1;}50%{opacity:0.5;}100%{opacity:1;} }
.hidden { display:none; }
</style>
</head>
<body>

<div class="dashboard-header">
    <div style="display:flex; gap:40px; align-items:center;">
        <span>AL CIELO v2.6 | <b id="client-view">TAX OFFICE MODE</b></span>
        <span>AGI: <b id="top-agi">$0.00</b></span>
        <span>REFUND: <b id="top-refund" style="color:#0F0;">$0.00</b></span>
    </div>
    <div id="risk-box" class="risk-badge risk-low">AUDIT RISK: LOW</div>
</div>

<div class="main-layout">
    <aside class="sidebar">
        <div class="mode-selector">
            <button style="width:100%; background: var(--gold); margin-bottom:10px;" onclick="switchMode('Client')">VIEW AS CLIENT</button>
            <button style="width:100%; background: var(--drake-blue); color:white;" onclick="switchMode('CPA')">VIEW AS PRO (CPA)</button>
        </div>
        <div class="nav-grp">Tax Intelligence</div>
        <div class="nav-item active" onclick="tab('1040')">Form 1040</div>
        <div class="nav-item" onclick="tab('schc')">Schedule C</div>
        <div class="nav-grp">Legal & Audit</div>
        <div class="nav-item" onclick="tab('risk')">Risk Report</div>
        <div class="nav-item" onclick="tab('docs')">Audit Logs</div>
    </aside>

    <main class="workspace">
        <div id="t-1040">
            <div class="form-header">Interactive Form 1040 - Tax Year 2026</div>
            <div class="tax-card">
                <div class="card-header"><span>Identity</span></div>
                <div class="tax-row"><div class="ln">NAME</div><div class="desc">Taxpayer Name</div><input type="text" id="tax_name" oninput="taxEngine()"></div>
                <div class="tax-row"><div class="ln">AGE</div><div class="desc">Age (Catch-up)</div><input type="number" id="age" value="50" oninput="taxEngine()"></div>
            </div>
            <div class="tax-card">
                <div class="card-header"><span>Income & Assets</span></div>
                <div class="tax-row"><div class="ln">1</div><div class="desc">W-2 Wages</div><input type="number" id="in-w2" value="0" oninput="taxEngine()"></div>
                <div class="tax-row"><div class="ln">2</div><div class="desc">Federal Tax Withheld</div><input type="number" id="in-withheld" value="0" oninput="taxEngine()"></div>
                <div class="tax-row"><div class="ln">8</div><div class="desc">Self-Employed Net</div><input type="number" id="in-schc-link" readonly></div>
                <div class="tax-row"><div class="ln">11</div><div class="desc">AGI</div><input type="number" id="in-agi" readonly></div>
            </div>
        </div>
        <div id="t-schc" class="hidden">
            <div class="form-header">Schedule C</div>
            <div class="tax-card">
                <div class="tax-row"><div class="ln">1</div><div class="desc">Gross Receipts</div><input type="number" id="in-gross" value="0" oninput="taxEngine()"></div>
                <div class="tax-row"><div class="ln">28</div><div class="desc">Business Expenses</div><input type="number" id="in-exp" value="0" oninput="taxEngine()"></div>
                <div class="tax-row"><div class="ln">31</div><div class="desc">Net Profit</div><input type="number" id="in-net" readonly></div>
            </div>
        </div>
    </main>

    <aside class="aura-panel">
        <div class="aura-header">ðŸ§  AURA SENIOR ADVISOR</div>
        <div class="aura-chat" id="aura-chat">
            <div class="msg">AURA: Bienvenido al modo Tax Intelligence.</div>
        </div>
        <div class="aura-input-area">
            <input type="text" id="ai-query" placeholder="Duda fiscal?" onkeypress="handleAura(event)">
        </div>
    </aside>
</div>

<div class="footer">
    <button class="btn-delete" onclick="resetSystem()">Clear All Data</button>
    <button class="btn-doubts" onclick="clearDoubts()">Explain Lines</button>
    <button class="btn-print" onclick="window.print()">Print</button>
</div>

<script>
function tab(id) {
    document.querySelectorAll('.workspace > div').forEach(d=>d.classList.add('hidden'));
    document.getElementById('t-'+id).classList.remove('hidden');
}

function taxEngine() {
    const w2 = parseFloat(document.getElementById('in-w2').value)||0;
    const gross = parseFloat(document.getElementById('in-gross').value)||0;
    const exp = parseFloat(document.getElementById('in-exp').value)||0;
    const net = Math.max(0, gross-exp);
    document.getElementById('in-net').value = net.toFixed(2);
    document.getElementById('in-schc-link').value = net.toFixed(2);
    const seTax = net*0.9235*0.153;
    const agi = (w2+net) - (seTax/2);
    document.getElementById('in-agi').value = agi.toFixed(2);
    document.getElementById('top-agi').innerText = `$${agi.toLocaleString()}`;
    const withheld = parseFloat(document.getElementById('in-withheld').value)||0;
    const refund = withheld - seTax;
    document.getElementById('top-refund').innerText = `$${refund>=0?refund.toLocaleString():'0.00'}`;
    document.getElementById('top-refund').style.color = refund>=0?"#0F0":"#F00";
    updateRisk(gross, exp, net, agi);
}

function updateRisk(g,e,n,a) {
    const rb = document.getElementById('risk-box');
    if(e>g*0.65 && g>0){rb.innerText="AUDIT RISK: HIGH"; rb.className="risk-badge risk-high";}
    else{rb.innerText="AUDIT RISK: LOW"; rb.className="risk-badge risk-low";}
}

function pushAura(msg,cls="msg"){const chat=document.getElementById('aura-chat'); const d=document.createElement('div'); d.className=cls; d.innerHTML=msg; chat.appendChild(d); chat.scrollTop=chat.scrollHeight;}
function updateAura(){pushAura("AURA estÃ¡ monitoreando su AGI y gastos.","msg-strategy");}
function handleAura(e){if(e.key==="Enter"){pushAura(`<b>Pregunta:</b> ${e.target.value}`,"msg-strategy"); e.target.value="";}}
function clearDoubts(){pushAura("ExplicaciÃ³n paso a paso...","msg-strategy");}
function switchMode(mode){document.getElementById('client-view').innerText=mode+" MODE";}
function resetSystem(){document.querySelectorAll('input').forEach(i=>i.value=''); taxEngine(); document.getElementById('aura-chat').innerHTML="";}
taxEngine();
</script>
</body>
</html>
